### 본격적인 이야기를 하기 앞서

#### 테스트 종류

- 단위테스트, 통합테스트, 회기테스트, 시스템테스트, 인수테스트...

#### 테스트 자동화 이점

- 높은 커버리지, 효율성, 재사용성, 결함조기식별, 최소비용, 빠른피드백...

### 본격적인 이야기

#### E2E 테스트 자동화

- 사용자의 행동 기반 UI 기능 테스트 (사용자가 어떤 버튼을 눌릴 것인지... 등을 예측하여 테스트 진행)
- 프론트엔드 결함 수정 최후의 보루
- 오픈소스 : 셀레니움, cyPress.io, TestCafe...

1. E2E 테스트의 이점 (기계적, 이론적인 부분)
    - 가장 완전한 상태에서 확인
    - 정기적 운영에 따른 상시 리스크 관리 (정기 실행을 통한 사용자 기반 헬스 체크)
2. (감성적, 실제적인 부분)
    - 심리적 스트레스
    - 비용적 스트레스
    - 책임지각적 스트레스

 --- 

if have any of these (늦은 배포 주기, 높은 테스트 코스트, 팀의 창의성 부족)

라쿠텐(JP 전자상거래 1위 플랫폼) 랭킹 서비스 실 사례

- 개발 프로세스 : 스크럼 개발방식 (팀 내부에서 테스트 직접 실행 - 회기테스트 비중 높게, 월1~2회 주기로 배포)
- 회기테스트 약 20시간 소요됨 -> 5시간째에 에러발생 -> 20시간 다시 소요
- 테스트로 인하여 좋은 아이디어가 떠올라도 20시간의 테스트를 거쳐야 하기때문에 적용하기를 미뤘음.
- why? 자동화를 하지 않았나 : 테스트의 경우의 수가 너무 많았다. 기간 * 톱 장르 * 장르 * 태그 == 무한대에 가까운 경우의 수
- 자동화 하기에는 규모가 너무 컸다.
- but 하나하나 자동화하기 시작함 (1. 클릭시 url로 잘 이동 되는지, 2. 광고배너 내용에 맞게 잘 활성화 되어 있는지, 3. 결과의 정합성 4. 폰트, 이미지 깨짐 5. 셀레니움 병렬기능 구현(쓰레드
  세이프하게 구현))
- 자동화 후 시간 : 19시간 -> 8시간 / 테스트 갯수 :  500 -> 6200++ / 프로젝트 배포 갯수 : 년 6개 -> 년 12개 / 타 서비스 테스트코스트 감소 : 76 -> 37
- 발생된 문제점 : 슬로우 테스트 발생으로 테스트 실행 시간 증가(약 3시간 소요), 로컬 실행시 리소스가 너무 크다(테스트를 돌려 놓으면, 작업하기 힘듬), -> 테스트의 효율과 이점을 체감한 팀원들 모두 다
  같이 개선작업 실시 (3시간 -> 1시간), 테스트를 위한 서버 개설
- 아틀라시안 CLI 연계를 통한 테스트 관련 reporting 작성 및 관련 PR 자동화
- 공유환경의 분산 프로토타이핑 (mac 사파리, 윈도우 엣지, IOS 크롬, 우분투 Firefox)
- 최종 개선 후 시간 : 19시간 -> 20분 / 프로젝트 배포 갯수 : 년 6개 -> 18개 -> 26개 / 개발프로세스 변경(테스트 관련 부분 비용 많이 감소) / 프로덕트에 대한 이해도 향상(사양서, 코드,
  테스트케이스) / 과제에 대해 함께 고민하는 팀 문화 형성

--- 

### 어떻게 시작할 수 있을까?

1. 자동화 여부가능성 판단, ROI 계산
2. ![img.png](https://github.com/ckdgus08/study/blob/master/image/테스트_자동화_프로세스.png?raw=true)
3. tip : 
   - 유지보수 비용을 고려하여 설계 - ex) 기대치 및 URL 작성시 수동 입력
   - 가능한 데이터베이스, api를 활용하여 기대치, 정보 가져오기
   - 실행 시간이 무분별하게 늘어나는 것을 고려 - 분산처리, 벙렬 실행을 미리 고려
   - 실패한 케이스 식별시 원인 파악 용이하게 - 실패한 테스트를 디버깅하는 로그를 적절히 활용
   - 중요한 부분부터 천천히, 꾸준히